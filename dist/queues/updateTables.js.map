{"version":3,"sources":["../../src/queues/updateTables.js"],"names":["updateQueue","startQueue","queue","Promise","resolve","reject","start","error","updateTables","isActivate","push","Error","__dirname"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;;;AACA,IAAMA,cAAc,sBAApB;;AAEA,IAAMC,aAAa,SAAbA,UAAa,CAACC,KAAD;AAAA,QAAW,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV;AAAA,SAAqBH,MAAMI,KAAN,CAAY;AAAA,UAASC,QAAQF,OAAOE,KAAP,CAAR,GAAwBH,SAAjC;AAAA,GAAZ,CAArB;AAAA,EAAZ,CAAX;AAAA,CAAnB;AACA,IAAMI;AAAA,oEAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAEV,mBAASC,UAAT,CAAoB,aAApB,CAFU;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAGlBT,kBAAYU,IAAZ,yDACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAkB,6BAAlB;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADD;;AAHkB;AAAA;AAAA,aAQbT,WAAWD,WAAX,CARa;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,YAUb,IAAIW,KAAJ,CAAUC,YAAY,IAAZ,eAAV,CAVa;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAf;;AAAA;AAAA;AAAA;AAAA,GAAN;kBAaeJ,Y","file":"updateTables.js","sourcesContent":["import Cooldown from '../models/Cooldown';\nimport updateTable from '../services/updateTables';\nimport queue from 'queue';\nconst updateQueue = queue();\n\nconst startQueue = (queue) => new Promise((resolve, reject) => queue.start(error => error ? reject(error) : resolve()));\nconst updateTables = async () => {\n\ttry {\n\t\tif(await Cooldown.isActivate('updateTable')){\n\t\t\tupdateQueue.push(\n\t\t\t\tasync () => await updateTable(),\n\t\t\t);\n\t\t}\n\n\t\tawait startQueue(updateQueue);\n\t} catch (e) {\n\t\tthrow new Error(__dirname + '\\n' + e);\n\t}\n};\nexport default updateTables;\n\n"]}