{"version":3,"sources":["../../src/queues/updateEvents.js"],"names":["updateQueue","startQueue","queue","Promise","resolve","reject","start","error","updateEvents","isActivate","push","Error","__dirname"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;AACA,IAAMA,cAAc,sBAApB;AACA,IAAMC,aAAa,SAAbA,UAAa,CAACC,KAAD;AAAA,QAAW,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV;AAAA,SAAqBH,MAAMI,KAAN,CAAY;AAAA,UAASC,QAAQF,OAAOE,KAAP,CAAR,GAAwBH,SAAjC;AAAA,GAAZ,CAArB;AAAA,EAAZ,CAAX;AAAA,CAAnB;AACA,IAAMI;AAAA,oEAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAEV,mBAASC,UAAT,CAAoB,gBAApB,CAFU;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAGlBT,kBAAYU,IAAZ,yDACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAkB,wBAAlB;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADD,4DAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAkB,wBAAlB;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAFD;;AAHkB;AAAA;AAAA,aAQbT,WAAWD,WAAX,CARa;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,YAUb,IAAIW,KAAJ,CAAUC,YAAY,IAAZ,eAAV,CAVa;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAf;;AAAA;AAAA;AAAA;AAAA,GAAN;kBAaeJ,Y","file":"updateEvents.js","sourcesContent":["import Cooldown from '../models/Cooldown';\nimport updateEventOddFromPickMon from '../services/updateEvents/pickMon';\nimport updateEventOddFromJsonOdd from '../services/updateEvents/jsonOdd';\nimport queue from 'queue';\nconst updateQueue = queue();\nconst startQueue = (queue) => new Promise((resolve, reject) => queue.start(error => error ? reject(error) : resolve()));\nconst updateEvents = async () => {\n\ttry {\n\t\tif(await Cooldown.isActivate('updateEventOdd')){\n\t\t\tupdateQueue.push(\n\t\t\t\tasync () => await updateEventOddFromJsonOdd(),\n\t\t\t\tasync () => await updateEventOddFromPickMon(),\n\t\t\t);\n\t\t}\n\t\tawait startQueue(updateQueue);\n\t} catch (e) {\n\t\tthrow new Error(__dirname + '\\n' + e);\n\t}\n};\nexport default updateEvents;\n\n"]}